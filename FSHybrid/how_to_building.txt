How to build FSHybrid series' solution packages.

■ソリューションファイルの種類とその関係

  ターゲットの種類と環境に応じて構築するソリューションを選択してください。
  （※すべてのソリューションを無理に構築する必要はないです。）

  各種ソリューションファイルは、src フォルダ配下に位置しています。

  src\FSHybrid.sln
   ・構築環境： VisualStudio 2015 以降でサポートされるVC++構築環境
   ・ターゲット： BonDriver_FSHybrid.dll/BonDriver_FSHybrid_x64.dll
   ・概要： バルク転送のみ対応[要:WindowsVistaSP2以降のOS]
   ・取扱説明書： readme_mod_FSHybrid.txt

  src\FSHybrid_isoch.sln
   ・構築環境： VisualStudio 2015 以降でサポートされるVC++構築環境
   ・ターゲット： BonDriver_FSHybrid_isoch.dll/BonDriver_FSHybrid_isoch_x64.dll
   ・概要： バルク転送とアイソクロナス転送の両方に対応[要:Windows8.1以降のOS]
   ・取扱説明書： readme_mod_FSHybrid.txt

  src\uSUNpTV.sln
   ・構築環境： VisualStudio 2015 以降でサポートされるVC++構築環境
   ・ターゲット： BonDriver_uSUNpTV.dll/BonDriver_uSUNpTV_x64.dll
   ・概要： バルク転送のみ対応[要:WindowsVistaSP2以降のOS]
   ・取扱説明書： readme_mod_uSUNpTV.txt

  src\uSUNpTV_isoch.sln
   ・構築環境： VisualStudio 2015 以降でサポートされるVC++構築環境
   ・ターゲット： BonDriver_uSUNpTV_isoch.dll/BonDriver_uSUNpTV_isoch_x64.dll
   ・概要： バルク転送とアイソクロナス転送の両方に対応[要:Windows8.1以降のOS]
   ・取扱説明書： readme_mod_uSUNpTV.txt

  src\FSUSB2N.sln
   ・構築環境： VisualStudio 2015 以降でサポートされるVC++構築環境
   ・ターゲット： BonDriver_FSUSB2N.dll/BonDriver_FSUSB2N_x64.dll
   ・概要： バルク転送のみ対応[要:WindowsVistaSP2以降のOS]
   ・取扱説明書： readme_mod_FSUSB2N.txt

  src\FSUSB2N_isoch.sln
   ・構築環境： VisualStudio 2015 以降でサポートされるVC++構築環境
   ・ターゲット： BonDriver_FSUSB2N_isoch.dll/BonDriver_FSUSB2N_isoch_x64.dll
   ・概要： バルク転送とアイソクロナス転送の両方に対応[要:Windows8.1以降のOS]
   ・取扱説明書： readme_mod_FSUSB2N.txt

  src\FSUSB2i.sln
   ・構築環境： VisualStudio 2015 以降でサポートされるVC++構築環境
   ・ターゲット： BonDriver_FSUSB2i.dll/BonDriver_FSUSB2i_x64.dll
   ・概要： バルク転送のみ対応[要:WindowsVistaSP2以降のOS]
   ・取扱説明書： readme_mod_FSUSB2i.txt

  (以降は、レガシー版。古参用です。)

  src\FSHybrid_VS2008.sln
   ・構築環境： VisualStudio 2008 以降でサポートされるVC++構築環境
   ・ターゲット： BonDriver_FSHybrid.dll/BonDriver_FSHybrid_x64.dll
   ・概要： バルク転送のみ対応[要:WindowsXpSP2以降のOS]
   ・取扱説明書： readme_mod_FSHybrid.txt

  src\uSUNpTV_VS2008.sln
   ・構築環境： VisualStudio 2008 以降でサポートされるVC++構築環境
   ・ターゲット： BonDriver_uSUNpTV.dll/BonDriver_uSUNpTV_x64.dll
   ・概要： バルク転送のみ対応[要:WindowsXpSP2以降のOS]
   ・取扱説明書： readme_mod_uSUNpTV.txt

  src\FSUSB2N_VS2008.sln
   ・構築環境： VisualStudio 2008 以降でサポートされるVC++構築環境
   ・ターゲット： BonDriver_FSUSB2N.dll/BonDriver_FSUSB2N_x64.dll
   ・概要： バルク転送のみ対応[要:WindowsXpSP2以降のOS]
   ・取扱説明書： readme_mod_FSUSB2N.txt

  src\FSUSB2i_VS2008.sln
   ・構築環境： VisualStudio 2008 以降でサポートされるVC++構築環境
   ・ターゲット： BonDriver_FSUSB2i.dll/BonDriver_FSUSB2i_x64.dll
   ・概要： バルク転送のみ対応[要:WindowsXpSP2以降のOS]
   ・取扱説明書： readme_mod_FSUSB2i.txt


■ターゲットの構築

  各種ソリューションからターゲットとなるDLLを構築/生成する手順を説明します。

  構築する前に、Microsoft VisualStudio のインストールを済ませておいてください。
  VisualStudio は、以下のURLから手に入ります。インストールする際には、MSVC C++
  の機能を選択してからインストールすることを忘れないでください。

    URL: https://visualstudio.microsoft.com/ja/downloads/
        （コミュニティ版[無料]で構築出来ます）

    ※ これはVisualStudio2019の場合ですが、インストールする項目を選択する際に、
      ワークロードの欄から "C++によるデスクトップ開発" 項目にチェックを入れて
      からインストールしてください。"MSVCv142 VS2019 C++ x64/x86 ビルドツール"
      が右欄インストールの詳細に選択されていればおｋです。

  ① 構築するソリューション.slnをダブルクリックして VisualStudio を立ち上げる
    （なにか聴かれたら、すべて「はい」または「OK」で答え、既定値のまま押通す）

  ② 上部ツールバーに Debug と表示されてたら、クリックして Release を選択する
    （Debugは、開発者用のソリューション構成なので、必ずReleaseを選択すること)

  ③ ターゲットの種類に応じ、②の右隣の x〇〇 と表示されている部分を切り替える

      x86 / Win32 → 32ビットで動作するDLLを生成する ( 通常はこちらを選択 )
      x64 → 64ビットで動作するDLLを生成する ( 64ビットアプリで使用する場合 )

  ④ 上部|ビルド|メニューから|ソリューションをビルド|を選択してビルドを完了する

     ※生成物[ターゲット]は、このドキュメントと同一階層フォルダに作成されます。
      (ただし、XXXXXXX_VS2008.slnの生成物はvs2008フォルダ配下に生成されます。)

  ※生成物で必要なものは、DLLだけです。同時に生成されたEXPやLIBなどのファイル群
   は、動作に必要ではない為、消去してしまっても支障ありません。

  ※生成された各種DLLの設定を行うには、sampleフォルダのBonDriver_FSHybrid.iniを
   DLLと同一フォルダ上にコピーして内容を編集することにより各種設定が可能です。

  ※Windows8.1SDKが必要など、ビルド時にエラーが表示される場合は、ソリューション
   の再ターゲットを行う必要があります。右側のソリューションエクスプローラの一覧
   から「ソリューション'XXXXXXX'」を選択し、右クリックのスピードメニューから
   "ソリューションの再ターゲット"を選択すると"ソリューション操作の再ターゲット"
   ダイアログが表示されます。指示に従ってプロジェクトをアップグレードしてから
   構築してみてください。(アップグレードの項目は既定値のままでおｋの筈です。)

  ※構築したDLLを他のPCで動かす際には、ランタイムパッケージが必要になります。
   たとえば、VisualStudio2019で構築した場合は、VC++2019のランタイムパッケージを
   構築したDLLを動作させるターゲットPCに別途インストールする必要があります。
   VC++ランタイムパッケージについては、以下のURLからも取得可能なようです。

     URL: https://support.microsoft.com/ja-jp/help/2977003/the-latest-supported-visual-c-downloads


以上ノシ
